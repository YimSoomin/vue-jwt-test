(function(){"use strict";var e={8522:function(e,t,n){var r=n(9669),o=n.n(r),s=n(9963),a=n(6252);const u=(0,a.Uk)("홈"),l=(0,a.Uk)("  "),i=(0,a.Uk)("회원가입 "),c=(0,a.Uk)("  "),d=(0,a.Uk)("로그인"),m=(0,a.Uk)("  "),g=(0,a.Uk)("user"),p=(0,a.Uk)("  "),f=(0,a.Uk)("카카오로그인"),h=(0,a.Uk)("  "),_=(0,a.Uk)("네이버로그인"),w=(0,a.Uk)("  "),v=(0,a.Uk)("구글로그인"),k=(0,a.Uk)("  "),b=(0,a.Uk)("웹소켓"),y=(0,a.Uk)("  "),U=(0,a.Uk)("대시보드"),W=(0,a.Uk)("레지스터");function V(e,t,n,r,o,s){const V=(0,a.up)("router-link"),D=(0,a.up)("router-view");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(V,{to:"/"},{default:(0,a.w5)((()=>[u])),_:1}),l,(0,a.Wm)(V,{to:"/signup"},{default:(0,a.w5)((()=>[i])),_:1}),c,(0,a.Wm)(V,{to:"/login"},{default:(0,a.w5)((()=>[d])),_:1}),m,(0,a.Wm)(V,{to:"/users"},{default:(0,a.w5)((()=>[g])),_:1}),p,(0,a.Wm)(V,{to:"/kakaologin"},{default:(0,a.w5)((()=>[f])),_:1}),h,(0,a.Wm)(V,{to:"/naverlogin"},{default:(0,a.w5)((()=>[_])),_:1}),w,(0,a.Wm)(V,{to:"/googlelogin"},{default:(0,a.w5)((()=>[v])),_:1}),k,(0,a.Wm)(V,{to:"/WebSocket"},{default:(0,a.w5)((()=>[b])),_:1}),y,(0,a.Wm)(V,{to:"/dashboard"},{default:(0,a.w5)((()=>[U])),_:1}),(0,a.Wm)(V,{to:"/register"},{default:(0,a.w5)((()=>[W])),_:1}),(0,a._)("button",{onClick:t[0]||(t[0]=(...t)=>e.logout&&e.logout(...t))},"로그아웃"),(0,a.Wm)(D)])}var D=n(6292),O={name:"App",components:{},data:()=>({}),methods:{...(0,D.nv)(["getToken","logout"])},created(){}},$=n(3744);const j=(0,$.Z)(O,[["render",V]]);var I=j,A=(n(9773),n(7063)),z=(0,A.Rd)();async function Z(){const e=await n.e(461).then(n.t.bind(n,5933,23));e.load({google:{families:["Roboto:100,300,400,500,700,900&display=swap"]}})}var x=n(2119),E=n(3577),C=n(9357),M=n(9003),P=n(3379),N=n(7110);const S={class:"button"},T=["disabled"];function q(e,t,n,r,o,u){return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",null,[(0,a.Wm)(C.O,{ref:"form","lazy-validation":""},{default:(0,a.w5)((()=>[(0,a.Wm)(M.o,null,{default:(0,a.w5)((()=>[(0,a.Wm)(P.D,{cols:"12"},{default:(0,a.w5)((()=>[(0,a.Wm)(N.h,{modelValue:o.user.user_id,"onUpdate:modelValue":t[0]||(t[0]=e=>o.user.user_id=e),label:"아이디*",rules:o.user_id_rule,disabled:"ins"!=o.state,required:""},null,8,["modelValue","rules","disabled"])])),_:1}),(0,a.Wm)(P.D,{cols:"12"},{default:(0,a.w5)((()=>[(0,a.Wm)(N.h,{modelValue:o.user.user_nm,"onUpdate:modelValue":t[1]||(t[1]=e=>o.user.user_nm=e),label:"이름*",rules:o.user_nm_rule,required:""},null,8,["modelValue","rules"])])),_:1}),(0,a.Wm)(P.D,{cols:"12"},{default:(0,a.w5)((()=>[(0,a.Wm)(N.h,{modelValue:o.user.user_pw,"onUpdate:modelValue":t[2]||(t[2]=e=>o.user.user_pw=e),label:"비밀번호*",type:"password",rules:o.user_pw_rule},null,8,["modelValue","rules"])])),_:1}),(0,a.Wm)(P.D,{cols:"12"},{default:(0,a.w5)((()=>[(0,a.Wm)(N.h,{modelValue:o.user.user_pwchk,"onUpdate:modelValue":t[3]||(t[3]=e=>o.user.user_pwchk=e),label:"비밀번호 확인*",type:"password",rules:o.user_pw_rule2},null,8,["modelValue","rules"])])),_:1}),(0,a.Wm)(P.D,{cols:"12"},{default:(0,a.w5)((()=>[(0,a.Wm)(N.h,{modelValue:o.user.user_email,"onUpdate:modelValue":t[4]||(t[4]=e=>o.user.user_email=e),label:"이메일",required:"",rules:o.user_email_rule},null,8,["modelValue","rules"])])),_:1})])),_:1}),(0,a._)("div",S,[(0,a._)("button",{disabled:""==o.user.user_id||""==o.user.user_pw||""==o.user.user_nm||""==o.user.user_pwchk||""==o.user.user_email,onClick:t[5]||(t[5]=(0,s.iM)(((...e)=>u.signUp&&u.signUp(...e)),["prevent"]))}," 가입하기 ",8,T)])])),_:1},512)]),(0,a._)("div",null,(0,E.zw)(o.test),1)],64)}var K={data(){return{ids:["aa111","bb111"],dialog:!1,state:"ins",test:"",user:this.$store.state.user,user_id_rule:[e=>!!e||"아이디는 필수 입력사항입니다.",e=>/^[a-zA-Z0-9]*$/.test(e)||"아이디는 영문+숫자만 입력 가능합니다.",e=>!(e&&e.length>=15)||"아이디는 15자 이상 입력할 수 없습니다.",e=>this.checkId(e)||"중복"],user_nm_rule:[e=>!!e||"이름은 필수 입력사항입니다.",e=>!(e&&e.length>=30)||"이름은 30자 이상 입력할 수 없습니다.",e=>!/[~!@#$%^&*()_+|<>?:{}]/.test(e)||"이름에는 특수문자를 사용할 수 없습니다."],user_pw_chk:"",user_pw_rule:[e=>"ins"!==this.state||(!!e||"패스워드는 필수 입력사항입니다."),e=>!(e&&e.length>=30)||"패스워드는 30자 이상 입력할 수 없습니다."],user_pw_rule2:[e=>"ins"!==this.state||(!!e||"패스워드는 필수 입력사항입니다."),e=>!(e&&e.length>=30)||"패스워드는 30자 이상 입력할 수 없습니다.",e=>e===this.user.user_pw||"패스워드가 일치하지 않습니다."],user_email_rule:[e=>{const t=e.replace(/(\s*)/g,""),n=/^[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*.[a-zA-Z]{2,3}$/;return n.test(t)||"이메일 형식으로 입력해주세요"}]}},methods:{async save(){const e=this.$refs.form.validate();if(e&&confirm("ㅁㄴㅇㄴㅁㅇ")){const e={user_id:this.user.user_id,user_nm:this.user.user_nm,user_pw:this.user.user_pw,user_email:this.user.user_email};"upd"==this.state&&(e._id=this.user.user_info._id)}},checkId(e){for(var t=0;t<this.ids.length;t++)if(this.ids[t]===e)return!1;return!0},signUp(){const e=this;this.$axios.post("/api/users/signup",{user:this.user}).then((t=>{1==t.data.success&&(alert(t.data.message),e.$router.push({name:"login"},(()=>{window.alert("success")}),(()=>{window.alert("fail")})),this.user.user_id="",this.user.user_nm="",this.user.user_pw="",this.user.user_email="",this.user_pw_chk=""),0==t.data.success&&alert(t.data.message)})).catch((e=>{alert(e),console.log(e)}))},mounted(){this.$axios.get("https://fde3c043-e635-4e24-9433-a662e26891ea.mock.pstmn.io/test").then((e=>this.test=e.body))}}};const L=(0,$.Z)(K,[["render",q],["__scopeId","data-v-7c4825a5"]]);var F=L;function R(e,t,n,r,o,s){return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(M.o,null,{default:(0,a.w5)((()=>[(0,a.Wm)(P.D,{col:"12"},{default:(0,a.w5)((()=>[(0,a.Wm)(N.h,{modelValue:o.user.user_id,"onUpdate:modelValue":t[0]||(t[0]=e=>o.user.user_id=e),label:"아이디*",disabled:"ins"!=o.state,rules:o.user_id_rule,required:""},null,8,["modelValue","disabled","rules"])])),_:1}),(0,a.Wm)(P.D,{col:"12"},{default:(0,a.w5)((()=>[(0,a.Wm)(N.h,{modelValue:o.user.user_pw,"onUpdate:modelValue":t[1]||(t[1]=e=>o.user.user_pw=e),label:"비밀번호",type:"password",rules:o.user_pw_rule},null,8,["modelValue","rules"])])),_:1})])),_:1}),(0,a._)("button",{type:"submit",onClick:t[2]||(t[2]=(...e)=>s.login&&s.login(...e))},"asadsad")])}var B={data(){return{state:"ins",user:this.$store.state.user,user_id_rule:[e=>!!e||"아이디는 필수 입력사항입니다.",e=>/^[a-zA-Z0-9]*$/.test(e)||"아이디는 영문+숫자만 입력 가능합니다.",e=>!(e&&e.length>=15)||"아이디는 15자 이상 입력할 수 없습니다."],user_pw_rule:[e=>"ins"!==this.state||(!!e||"패스워드는 필수 입력사항입니다."),e=>!(e&&e.length>=30)||"패스워드는 30자 이상 입력할 수 없습니다."]}},methods:{login(){const e=this;console.log(this.user.user_id,this.user.user_pw),this.$axios.post("/api/users/login",{user:this.user}).then((t=>{1==t.data.success&&(alert(t.data.message),e.$router.push({name:"users"},(()=>{window.alert("success")}),(()=>{window.alert("fail")}))),0==t.data.success&&(alert(t.data.message),window.location.reload(!0))}),(e=>{alert("실패"+e)})).catch((e=>{alert(e)}))}},created(){}};const H=(0,$.Z)(B,[["render",R],["__scopeId","data-v-42bfcfcd"]]);var Y=H;function G(e,t,n,r,o,s){return(0,a.wg)(),(0,a.iD)("div",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.users,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{key:t},[(0,a._)("h2",null,"No."+(0,E.zw)(t+1),1),(0,a._)("h2",null,"아이디:"+(0,E.zw)(e.user_id),1),(0,a._)("h2",null,"pass:"+(0,E.zw)(e.user_pw),1),(0,a._)("h2",null,"이름:"+(0,E.zw)(e.user_nm),1),(0,a._)("h2",null,"email:"+(0,E.zw)(e.user_email),1)])))),128))])}var J={data(){return{users:[]}},mounted(){this.$axios.get("/api/users").then((e=>{this.users=e.data}))}};const Q=(0,$.Z)(J,[["render",G],["__scopeId","data-v-59097267"]]);var X=Q;const ee=(0,a._)("img",{src:"//k.kakaocdn.net/14/dn/btqCn0WEmI3/nijroPfbpCa4at5EIsjyf0/o.jpg",width:"222",alt:""},null,-1),te=[ee],ne=["src"];function re(e,t,n,r,o,s){return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("a",{onClick:t[0]||(t[0]=e=>s.kakaoLogin()),id:"cuntom-login-btn"},te),(0,a._)("button",{onClick:t[1]||(t[1]=e=>s.kakaoLogout())},"카카오로그아웃"),(0,a._)("div",null,(0,E.zw)(o.user),1),o.user.profile_image?((0,a.wg)(),(0,a.iD)("img",{key:0,src:o.user.profile_image,alt:"",style:{width:"50px",height:"50px","border-radius":"50%"}},null,8,ne)):(0,a.kq)("",!0)])}var oe={data(){return{user:[{nickname:"",profile_image:""}]}},methods:{kakaoLogin(){window.Kakao.Auth.login({scope:"profile_nickname,profile_image,account_email",success:this.getKakaoAccount})},getKakaoAccount(){window.Kakao.API.request({url:"/v2/user/me",success:e=>{const t=e.kakao_account,n=t.profile.nickname,r=t.profile.thumbnail_image_url,o=t.profile.profile_image_url,s=t.email;console.log("nickname",n),console.log("email",s),console.log("thumbnail",r),console.log("pro_image",o),console.log("res",e),alert("로그인"),this.user={nickname:n,profile_image:o}},fail:e=>{console.log(e)}})},kakaoLogout(){window.Kakao.Auth.logout((e=>{console.log("로그아웃",e)}))}}};const se=(0,$.Z)(oe,[["render",re]]);var ae=se;const ue=(0,a._)("div",{id:"google-signin-btn"},null,-1),le=[ue];function ie(e,t,n,r,o,s){return(0,a.wg)(),(0,a.iD)("div",null,le)}var ce={mounted(){window.gapi.signin2.render("google-signin-btn",{onsuccess:this.onSignIn})},methods:{onSignIn(e){const t=e.getBasicProfile();console.log(`ID: ${t.getId()}`),console.log(`Full Name: ${t.getFullName()}`),console.log(`Given Name: ${t.getGivenName()}`),console.log(`Family Name: ${t.getFamilyName()}`),console.log(`Image URL: ${t.getImageUrl()}`),console.log(`Email: ${t.getEmail()}`);const n=e.getAuthResponse().id_token;console.log(`ID Token: ${n}`)}}};const de=(0,$.Z)(ce,[["render",ie]]);var me=de;function ge(e,t,n,r,o,u){return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.wy)((0,a._)("textarea",{ref:"chatInput","onUpdate:modelValue":t[0]||(t[0]=e=>o.message=e),name:"",cols:"30",rows:"10",id:"chatMessage"},"\r\n        ",512),[[s.nr,o.message]]),(0,a._)("button",{onClick:t[1]||(t[1]=(...e)=>u.sendMessage&&u.sendMessage(...e))},"전송"),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.chats,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{key:t},(0,E.zw)(e),1)))),128))])}var pe=n(9367),fe={data(){return{socket:null,message:"",receiveMessage:[],chats:[]}},async created(){this.socket=(0,pe.io)("http://localhost:3000"),this.socket.on("connect",(()=>{})),this.socket.on("messages",(e=>{this.receiveMessage=e}))},methods:{sendMessage(){this.socket.emit("send",this.message),this.chats.push(this.message),document.getElementById("chatMessage").value=""}}};const he=(0,$.Z)(fe,[["render",ge]]);var _e=he;const we={class:"dashboard"},ve=(0,a._)("h1",null,"Esta es una ruta protegida",-1);function ke(e,t,n,r,o,s){return(0,a.wg)(),(0,a.iD)("div",we,[ve,(0,a.Uk)(" "+(0,E.zw)(e.token),1)])}var be={created(){this.dashboard(this.token)},computed:{...(0,D.rn)(["token","user"])},methods:{...(0,D.nv)(["dashboard"])}};const ye=(0,$.Z)(be,[["render",ke]]);var Ue=ye;const We={class:"register"},Ve=(0,a._)("img",{alt:"Vue logo",src:"../assets/logo.png"},null,-1),De=(0,a._)("button",{type:"submit"},"Registrar",-1);function Oe(e,t,n,r,o,u){return(0,a.wg)(),(0,a.iD)("div",We,[Ve,(0,a._)("form",{onSubmit:t[3]||(t[3]=(0,s.iM)((t=>e.register(o.user)),["prevent"]))},[(0,a.wy)((0,a._)("input",{type:"text",placeholder:"Ingrese Nombre","onUpdate:modelValue":t[0]||(t[0]=e=>o.user.name=e)},null,512),[[s.nr,o.user.name]]),(0,a.wy)((0,a._)("input",{type:"text",placeholder:"Ingrese Email","onUpdate:modelValue":t[1]||(t[1]=e=>o.user.email=e)},null,512),[[s.nr,o.user.email]]),(0,a.wy)((0,a._)("input",{type:"password",placeholder:"Ingrese contraseña","onUpdate:modelValue":t[2]||(t[2]=e=>o.user.password=e)},null,512),[[s.nr,o.user.password]]),De],32)])}var $e={name:"RegiSter",data(){return{user:{name:"",email:"",password:""}}},methods:{...(0,D.nv)(["register"])}};const je=(0,$.Z)($e,[["render",Oe]]);var Ie=je;const Ae=[{path:"/",name:"home",component:I},{path:"/signup",name:"signup",component:F},{path:"/login",name:"login",component:Y},{path:"/users",name:"users",component:X},{path:"/kakaologin",name:"kakaologin",component:ae},{path:"/naverlogin",name:"naverlogin",component:()=>n.e(309).then(n.bind(n,2309))},{path:"/googlelogin",name:"googlelogin",component:me},{path:"/websocket",name:"websocket",component:_e},{path:"/dashboard",name:"dashboard",component:Ue},{path:"/register",name:"register",component:Ie}],ze=(0,x.p7)({history:(0,x.r5)(),routes:Ae});ze.beforeEach(((e,t,n)=>{const r=e.matched.some((e=>e.meta.requireAuth));r&&null===(void 0).$store.state.token?n({name:"home"}):n()}));var Ze=ze;const xe=(0,D.MT)({state:{token:null,user:{user_id:"",user_nm:"",user_pw:"",user_email:""}},getters:{},mutations:{},actions:{}});var Ee=xe;Z();const Ce=(0,s.ri)(I);Ce.config.globalProperties.$axios=o(),Ce.config.globalProperties.$store=Ee,Ce.use(z).use(Ze).use(Ee).mount("#app")}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.m=e,function(){var e=[];n.O=function(t,r,o,s){if(!r){var a=1/0;for(c=0;c<e.length;c++){r=e[c][0],o=e[c][1],s=e[c][2];for(var u=!0,l=0;l<r.length;l++)(!1&s||a>=s)&&Object.keys(n.O).every((function(e){return n.O[e](r[l])}))?r.splice(l--,1):(u=!1,s<a&&(a=s));if(u){e.splice(c--,1);var i=o();void 0!==i&&(t=i)}}return t}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[r,o,s]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,o){if(1&o&&(r=this(r)),8&o)return r;if("object"===typeof r&&r){if(4&o&&r.__esModule)return r;if(16&o&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var a={};e=e||[null,t({}),t([]),t(t)];for(var u=2&o&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){a[e]=function(){return r[e]}}));return a["default"]=function(){return r},n.d(s,a),s}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))}}(),function(){n.u=function(e){return"js/"+(461===e?"webfontloader":e)+"."+{309:"7ef741c2",461:"4749300d"}[e]+".js"}}(),function(){n.miniCssF=function(e){}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="front:";n.l=function(r,o,s,a){if(e[r])e[r].push(o);else{var u,l;if(void 0!==s)for(var i=document.getElementsByTagName("script"),c=0;c<i.length;c++){var d=i[c];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+s){u=d;break}}u||(l=!0,u=document.createElement("script"),u.charset="utf-8",u.timeout=120,n.nc&&u.setAttribute("nonce",n.nc),u.setAttribute("data-webpack",t+s),u.src=r),e[r]=[o];var m=function(t,n){u.onerror=u.onload=null,clearTimeout(g);var o=e[r];if(delete e[r],u.parentNode&&u.parentNode.removeChild(u),o&&o.forEach((function(e){return e(n)})),t)return t(n)},g=setTimeout(m.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=m.bind(null,u.onerror),u.onload=m.bind(null,u.onload),l&&document.head.appendChild(u)}}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p="/"}(),function(){var e={143:0};n.f.j=function(t,r){var o=n.o(e,t)?e[t]:void 0;if(0!==o)if(o)r.push(o[2]);else{var s=new Promise((function(n,r){o=e[t]=[n,r]}));r.push(o[2]=s);var a=n.p+n.u(t),u=new Error,l=function(r){if(n.o(e,t)&&(o=e[t],0!==o&&(e[t]=void 0),o)){var s=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;u.message="Loading chunk "+t+" failed.\n("+s+": "+a+")",u.name="ChunkLoadError",u.type=s,u.request=a,o[1](u)}};n.l(a,l,"chunk-"+t,t)}},n.O.j=function(t){return 0===e[t]};var t=function(t,r){var o,s,a=r[0],u=r[1],l=r[2],i=0;if(a.some((function(t){return 0!==e[t]}))){for(o in u)n.o(u,o)&&(n.m[o]=u[o]);if(l)var c=l(n)}for(t&&t(r);i<a.length;i++)s=a[i],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(c)},r=self["webpackChunkfront"]=self["webpackChunkfront"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(8522)}));r=n.O(r)})();
//# sourceMappingURL=app.863b4915.js.map